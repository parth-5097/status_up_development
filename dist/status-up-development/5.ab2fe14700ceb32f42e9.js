(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{JqAu:function(e,t,i){"use strict";i.r(t),i.d(t,"ImageModule",function(){return u});var a=i("ofXK"),c=i("tyNb"),n=i("fXoL"),s=i("I/3d");function d(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div",13),n.Yb("click",function(){n.kc(e);const i=t.$implicit,a=t.index;return n.ac(2).onClickImage(i,a)}),n.Nb(1,"img",14),n.Qb()}if(2&e){const e=t.$implicit;n.Ab(1),n.dc("src",e,n.mc)}}function o(e,t){if(1&e&&(n.Rb(0,"div",11),n.qc(1,d,2,1,"div",12),n.Qb()),2&e){const e=n.ac();n.Ab(1),n.dc("ngForOf",e.imageFile)}}function r(e,t){if(1&e&&(n.Rb(0,"div",19),n.Rb(1,"p"),n.rc(2),n.Qb(),n.Rb(3,"p"),n.rc(4),n.Qb(),n.Nb(5,"img",14),n.Qb()),2&e){const e=n.ac(2);n.Ab(2),n.tc("User Name: ",e.imageAct.name,""),n.Ab(2),n.tc("Date: ",e.imageAct.date,""),n.Ab(1),n.dc("src",e.image,n.mc)}}function l(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div",15),n.Rb(1,"div",16),n.Rb(2,"h2"),n.rc(3),n.Qb(),n.Rb(4,"span",17),n.Yb("click",function(){return n.kc(e),n.ac().onClose()}),n.rc(5,"\xd7"),n.Qb(),n.Qb(),n.qc(6,r,6,3,"div",18),n.Qb()}if(2&e){const e=n.ac();n.Ab(3),n.sc(e.imageAct.id),n.Ab(3),n.dc("ngIf",e.imageAct)}}let m=(()=>{class e{constructor(e){this.db=e,this.imageFile=[],this.imageData=[],this.dataId=[]}ngOnInit(){let e=new Date;this.todayDate=e.toISOString().split("T")[0],this.db.collection("newSubmissions").ref.where("date","==",this.todayDate).get().then(e=>{e.forEach(e=>{this.imageFile.push(e.data().imageFile),this.db.collection("users").ref.where("userId","==",e.data().userID).limit(1).get().then(t=>{t.forEach(t=>{this.imageData.push({id:t.id,name:t.data().firstName+" "+t.data().lastName,date:e.data().date})})})})})}onChange(e){this.imageFile=[],this.imageData=[],this.db.collection("newSubmissions").ref.where("date","==",e).get().then(e=>{e.forEach(e=>{this.imageFile.push(e.data().imageFile),this.db.collection("users").ref.where("userId","==",e.data().userID).limit(1).get().then(t=>{t.forEach(t=>{this.imageData.push({id:t.id,name:t.data().firstName+" "+t.data().lastName,date:e.data().date})})})})})}onUserImage(e){this.imageFile=[],this.imageData=[],this.db.collection("newSubmissions").ref.where("userID","==",e).get().then(e=>{e.forEach(e=>{this.imageFile.push(e.data().imageFile),this.db.collection("users").ref.where("userId","==",e.data().userID).limit(1).get().then(t=>{t.forEach(t=>{this.imageData.push({id:t.id,name:t.data().firstName+" "+t.data().lastName,date:e.data().date})})})})})}onClickImage(e,t){var i;this.imageAct=this.imageData[t],this.image=e,null===(i=document.getElementById("userModel"))||void 0===i||i.classList.add("block")}onClose(){var e;null===(e=document.getElementById("userModel"))||void 0===e||e.classList.remove("block")}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(s.a))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-image"]],decls:15,vars:3,consts:[[2,"margin-left","20px"],["type","date","name","","id","",2,"margin-left","20px",3,"value"],["date",""],[1,"btn",2,"margin-top","5px","margin-left","5px",3,"click"],["type","text","name","","id","","placeholder","Enter user id",2,"float","right"],["id",""],[1,"btn",2,"margin-right","5px","float","right",3,"click"],[1,"right-content"],["class","section-div image-grid",4,"ngIf"],["id","userModel",1,"modal"],["class","modal-content",4,"ngIf"],[1,"section-div","image-grid"],["id","imageDiv",3,"click",4,"ngFor","ngForOf"],["id","imageDiv",3,"click"],[3,"src"],[1,"modal-content"],[1,"modal-header"],["id","model-close-btn",1,"close",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-body"]],template:function(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div"),n.Rb(1,"h3",0),n.rc(2,"Images"),n.Qb(),n.Nb(3,"input",1,2),n.Rb(5,"button",3),n.Yb("click",function(){n.kc(e);const i=n.jc(4);return t.onChange(i.value)}),n.rc(6," Change Date "),n.Qb(),n.Nb(7,"input",4,5),n.Rb(9,"button",6),n.Yb("click",function(){n.kc(e);const i=n.jc(8);return t.onUserImage(i.value)}),n.rc(10," Get Images "),n.Qb(),n.Qb(),n.Rb(11,"div",7),n.qc(12,o,2,1,"div",8),n.Qb(),n.Rb(13,"div",9),n.qc(14,l,7,2,"div",10),n.Qb()}2&e&&(n.Ab(3),n.dc("value",t.todayDate),n.Ab(9),n.dc("ngIf",t.imageFile.length>0),n.Ab(2),n.dc("ngIf",t.imageAct))},directives:[a.k,a.j],styles:[""]}),e})();var b=i("3Pt+"),g=i("njyG");const h=[{path:"",component:m}];let u=(()=>{class e{}return e.\u0275mod=n.Kb({type:e}),e.\u0275inj=n.Jb({factory:function(t){return new(t||e)},imports:[[a.b,c.e.forChild(h),b.h,b.n,g.b]]}),e})()}}]);